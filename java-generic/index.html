<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>九、泛型 | Ray Wei&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content=" ">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.8ad819f8.css" as="style"><link rel="preload" href="/assets/js/app.a56c6d1d.js" as="script"><link rel="preload" href="/assets/js/3.16bfab84.js" as="script"><link rel="preload" href="/assets/js/1.92468ed9.js" as="script"><link rel="preload" href="/assets/js/50.ff9b873d.js" as="script"><link rel="prefetch" href="/assets/js/10.4ca6eac3.js"><link rel="prefetch" href="/assets/js/11.f93ac30e.js"><link rel="prefetch" href="/assets/js/12.031a2357.js"><link rel="prefetch" href="/assets/js/13.797d374f.js"><link rel="prefetch" href="/assets/js/14.93bb9280.js"><link rel="prefetch" href="/assets/js/15.179bb753.js"><link rel="prefetch" href="/assets/js/16.6684586f.js"><link rel="prefetch" href="/assets/js/17.7f63cd3d.js"><link rel="prefetch" href="/assets/js/18.9da20c31.js"><link rel="prefetch" href="/assets/js/19.06ffe7e6.js"><link rel="prefetch" href="/assets/js/20.3486b5a0.js"><link rel="prefetch" href="/assets/js/21.71aede5e.js"><link rel="prefetch" href="/assets/js/22.f9187d45.js"><link rel="prefetch" href="/assets/js/23.b1df3fee.js"><link rel="prefetch" href="/assets/js/24.2eeb130b.js"><link rel="prefetch" href="/assets/js/25.235c6446.js"><link rel="prefetch" href="/assets/js/26.f23c3b67.js"><link rel="prefetch" href="/assets/js/27.e75a846b.js"><link rel="prefetch" href="/assets/js/28.696de3df.js"><link rel="prefetch" href="/assets/js/29.7f0ae72b.js"><link rel="prefetch" href="/assets/js/30.6da87c61.js"><link rel="prefetch" href="/assets/js/31.236a5e76.js"><link rel="prefetch" href="/assets/js/32.165f73ac.js"><link rel="prefetch" href="/assets/js/33.b24024b7.js"><link rel="prefetch" href="/assets/js/34.da5f8eea.js"><link rel="prefetch" href="/assets/js/35.b86a5309.js"><link rel="prefetch" href="/assets/js/36.1fb19995.js"><link rel="prefetch" href="/assets/js/37.18e766be.js"><link rel="prefetch" href="/assets/js/38.8c09164c.js"><link rel="prefetch" href="/assets/js/39.4feb025b.js"><link rel="prefetch" href="/assets/js/4.e2b25f4c.js"><link rel="prefetch" href="/assets/js/40.ed14fc2a.js"><link rel="prefetch" href="/assets/js/41.b0ca3d75.js"><link rel="prefetch" href="/assets/js/42.8f653507.js"><link rel="prefetch" href="/assets/js/43.57ee717e.js"><link rel="prefetch" href="/assets/js/44.bf1e83bc.js"><link rel="prefetch" href="/assets/js/45.e53ae355.js"><link rel="prefetch" href="/assets/js/46.850a3828.js"><link rel="prefetch" href="/assets/js/47.134d5d46.js"><link rel="prefetch" href="/assets/js/48.b7e535fd.js"><link rel="prefetch" href="/assets/js/49.ad17a172.js"><link rel="prefetch" href="/assets/js/5.582f0acf.js"><link rel="prefetch" href="/assets/js/51.580a0f4a.js"><link rel="prefetch" href="/assets/js/52.47906e1b.js"><link rel="prefetch" href="/assets/js/53.fd7cded7.js"><link rel="prefetch" href="/assets/js/54.423ca0a1.js"><link rel="prefetch" href="/assets/js/55.17dfc653.js"><link rel="prefetch" href="/assets/js/56.8184ef3a.js"><link rel="prefetch" href="/assets/js/57.125e7c5f.js"><link rel="prefetch" href="/assets/js/58.bdc19c34.js"><link rel="prefetch" href="/assets/js/59.e0f01c7c.js"><link rel="prefetch" href="/assets/js/6.202ce5ad.js"><link rel="prefetch" href="/assets/js/60.efbea1f4.js"><link rel="prefetch" href="/assets/js/61.dc22c3dc.js"><link rel="prefetch" href="/assets/js/62.6b70ee76.js"><link rel="prefetch" href="/assets/js/63.3b241354.js"><link rel="prefetch" href="/assets/js/64.e8ed1655.js"><link rel="prefetch" href="/assets/js/65.1936264d.js"><link rel="prefetch" href="/assets/js/66.2c6dcb6e.js"><link rel="prefetch" href="/assets/js/67.c76b1045.js"><link rel="prefetch" href="/assets/js/68.8f14d8f4.js"><link rel="prefetch" href="/assets/js/69.9b30b010.js"><link rel="prefetch" href="/assets/js/7.a683f1aa.js"><link rel="prefetch" href="/assets/js/70.e9dce451.js"><link rel="prefetch" href="/assets/js/71.551dc5bb.js"><link rel="prefetch" href="/assets/js/72.89cffa34.js"><link rel="prefetch" href="/assets/js/73.1c34943f.js"><link rel="prefetch" href="/assets/js/74.c45302f4.js"><link rel="prefetch" href="/assets/js/8.a9ae2c8c.js"><link rel="prefetch" href="/assets/js/9.485fe8d3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8ad819f8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Ray Wei's Blog</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2></p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>Ray Wei</span>
            
          <span data-v-25ba6db2>2021 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Ray Wei's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Java 自学
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java-1-junior/0.初级.html" class="nav-link"><i class="undefined"></i>
  初级
</a></li><li class="dropdown-item"><!----> <a href="/java-2-senior/0.高级.html" class="nav-link"><i class="undefined"></i>
  高级
</a></li><li class="dropdown-item"><!----> <a href="/java-3-master/0.大师级.html" class="nav-link"><i class="undefined"></i>
  大师级
</a></li><li class="dropdown-item"><!----> <a href="/Git相关命令.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li></ul></div></div><div class="nav-item"><a href="/db/DBMS.html" class="nav-link"><i class="undefined"></i>
  数据库
</a></div><div class="nav-item"><a href="/ops/0.index.html" class="nav-link"><i class="undefined"></i>
  运维
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      OS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/macos/macOS使用技巧.html" class="nav-link"><i class="undefined"></i>
  macOS
</a></li><li class="dropdown-item"><!----> <a href="/os/windows/使用Git Bash在Windows上安装zsh和oh-my-zsh.html" class="nav-link"><i class="undefined"></i>
  Windows
</a></li><li class="dropdown-item"><!----> <a href="/os/linux/Linux的须知与使用.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      blog
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/macOS使用Vuepress和Github搭建博客2022.html" class="nav-link"><i class="undefined"></i>
  Vuepress
</a></li><li class="dropdown-item"><!----> <a href="/blog/macOS使用Hexo和Github搭建博客2021.html" class="nav-link"><i class="undefined"></i>
  Hexo
</a></li></ul></div></div><div class="nav-item"><a href="/excerpt/艺术家们.html" class="nav-link"><i class="undefined"></i>
  书摘
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <h3 class="name" data-v-39576ba9>
    Ray Wei
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>59</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>12</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Java 自学
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java-1-junior/0.初级.html" class="nav-link"><i class="undefined"></i>
  初级
</a></li><li class="dropdown-item"><!----> <a href="/java-2-senior/0.高级.html" class="nav-link"><i class="undefined"></i>
  高级
</a></li><li class="dropdown-item"><!----> <a href="/java-3-master/0.大师级.html" class="nav-link"><i class="undefined"></i>
  大师级
</a></li><li class="dropdown-item"><!----> <a href="/Git相关命令.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li></ul></div></div><div class="nav-item"><a href="/db/DBMS.html" class="nav-link"><i class="undefined"></i>
  数据库
</a></div><div class="nav-item"><a href="/ops/0.index.html" class="nav-link"><i class="undefined"></i>
  运维
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      OS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/macos/macOS使用技巧.html" class="nav-link"><i class="undefined"></i>
  macOS
</a></li><li class="dropdown-item"><!----> <a href="/os/windows/使用Git Bash在Windows上安装zsh和oh-my-zsh.html" class="nav-link"><i class="undefined"></i>
  Windows
</a></li><li class="dropdown-item"><!----> <a href="/os/linux/Linux的须知与使用.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      blog
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/macOS使用Vuepress和Github搭建博客2022.html" class="nav-link"><i class="undefined"></i>
  Vuepress
</a></li><li class="dropdown-item"><!----> <a href="/blog/macOS使用Hexo和Github搭建博客2021.html" class="nav-link"><i class="undefined"></i>
  Hexo
</a></li></ul></div></div><div class="nav-item"><a href="/excerpt/艺术家们.html" class="nav-link"><i class="undefined"></i>
  书摘
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java高级</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java-oop/" class="sidebar-link">一、面向对象</a></li><li><a href="/java-common-util/" class="sidebar-link">二、常用工具类</a></li><li><a href="/java-collection/" class="sidebar-link">三、集合框架</a></li><li><a href="/java-reflection/" class="sidebar-link">四、反射机制</a></li><li><a href="/java-throwable/" class="sidebar-link">五、异常处理</a></li><li><a href="/java-annotation/" class="sidebar-link">六、注解</a></li><li><a href="/java-io/" class="sidebar-link">七、IO</a></li><li><a href="/java-serialization/" class="sidebar-link">八、序列化</a></li><li><a href="/java-generic/" aria-current="page" class="active sidebar-link">九、泛型</a></li><li><a href="/java-2-senior/10.单元测试.html" class="sidebar-link">十、单元测试</a></li><li><a href="/java-2-senior/11.编码方式.html" class="sidebar-link">十一、编码方式</a></li><li><a href="/java-concurrence/" class="sidebar-link">十二、并发编程</a></li><li><a href="/java-8-new-features/" class="sidebar-link">十三、Java 8 新特性</a></li><li><a href="/java-2-senior/14.源码阅读.html" class="sidebar-link">十四、源码阅读</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>九、泛型</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>Ray Wei</span>
            
          <span data-v-25ba6db2>2021 - </span>
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">九、泛型</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>Ray Wei</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>12/21/2021</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="_1-什么是泛型"><a href="#_1-什么是泛型" class="header-anchor">#</a> 1）什么是泛型？</h2> <p>泛型的本质是为了参数化类型（在不创建新的类型的情况下，通过泛型指定的不同类型来控制形参具体限制的类型）。也就是说在泛型使用过程中，操作的数据类型被指定为一个参数，这种参数类型可以用在类、接口和方法中，分别被称为泛型类、泛型接口、泛型方法。</p> <p>Generics means parameterized types. The idea is to allow type (Integer, String, … etc., and user-defined types) to be a parameter to methods, classes, and interfaces. Using Generics, it is possible to create classes that work with different data types. An entity such as class, interface, or method that operates on a parameterized type is a generic entity.</p> <h2 id="_2-为什么要使用泛型"><a href="#_2-为什么要使用泛型" class="header-anchor">#</a> 2）为什么要使用泛型</h2> <p>引入泛型的意义在于：<strong>适用于多种数据类型执行相同的代码</strong>（代码复用）</p> <p>我们通过一个例子来阐述，先看下下面的代码：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token string">&quot;+&quot;</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">float</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">float</span> a<span class="token punctuation">,</span> <span class="token keyword">float</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token string">&quot;+&quot;</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token string">&quot;+&quot;</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果没有泛型，要实现不同类型的加法，每种类型都需要重载一个add方法；通过泛型，我们可以复用为一个方法：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">double</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">T</span> a<span class="token punctuation">,</span> <span class="token class-name">T</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token string">&quot;+&quot;</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>泛型中的类型在使用时指定，不需要强制类型转换（<strong>类型安全</strong>，编译器会<strong>检查类型</strong>）</p> <p>看下这个例子：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;xxString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我们在使用上述list中，list中的元素都是Object类型（无法约束其中的类型），所以在取出集合元素时需要人为的强制类型转化到具体的目标类型，且很容易出现<code>java.lang.ClassCastException</code>异常。</p> <p>引入泛型，它将提供类型的约束，提供编译前的检查：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// list中只能放String, 不能放其它类型的元素</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_3-泛型分类"><a href="#_3-泛型分类" class="header-anchor">#</a> 3）泛型分类</h2> <h3 id="_1-泛型接口"><a href="#_1-泛型接口" class="header-anchor">#</a> 1. 泛型接口</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 在接口上定义泛型</span>
<span class="token comment">// 使用尖括号来声明泛型</span>
<span class="token keyword">interface</span> <span class="token class-name">Fruit</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">User</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-泛型类"><a href="#_2-泛型类" class="header-anchor">#</a> 2. 泛型类</h3> <h4 id="_2-1-1个泛型类型参数"><a href="#_2-1-1个泛型类型参数" class="header-anchor">#</a> 2.1 1个泛型类型参数</h4> <blockquote><p>如果创建类时，声明了泛型的具体类型，比如String，那么new 对象时传入其他参数类型会报错。</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">FruitImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Fruit</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>
	<span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token class-name">FruitImpl</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// constructor</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// get方法</span>
<span class="token punctuation">}</span>

<span class="token comment">// Driver class to test above</span>
<span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token class-name">FruitImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> apple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FruitImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// apple</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-2-多个泛型类型参数"><a href="#_2-2-多个泛型类型参数" class="header-anchor">#</a> 2.2 多个泛型类型参数</h4> <blockquote><p>如果创建类时不声明具体类型，那么需要在new 对象时声明具体参数类型。</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">class</span> <span class="token class-name">UserImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">User</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">K</span> key <span class="token punctuation">;</span>     <span class="token comment">// 此变量的类型由外部决定  </span>
  <span class="token keyword">private</span> <span class="token class-name">V</span> value <span class="token punctuation">;</span>   <span class="token comment">// 此变量的类型由外部决定   </span>
<span class="token punctuation">}</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericsDemo09</span><span class="token punctuation">{</span>  
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
    <span class="token class-name">Notepad</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Notepad</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>   <span class="token comment">// key为String，value为Integer  </span>
    t<span class="token punctuation">.</span><span class="token function">setKey</span><span class="token punctuation">(</span><span class="token string">&quot;汤姆&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>        <span class="token comment">// 设置key  </span>
    t<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>            <span class="token comment">// 设置value</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;姓名；&quot;</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// get key</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;，年龄；&quot;</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// get value  </span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-泛型方法"><a href="#_3-泛型方法" class="header-anchor">#</a> 3. 泛型方法</h3> <p>可以在非泛型类中声明泛型方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Java program to show working of user defined</span>
<span class="token comment">// Generic functions</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
	<span class="token comment">// A Generic method example</span>
	<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">genericDisplay</span><span class="token punctuation">(</span><span class="token class-name">T</span> element<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
						<span class="token operator">+</span> <span class="token string">&quot; = &quot;</span> <span class="token operator">+</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Driver method</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">// Calling generic method with Integer argument</span>
		<span class="token function">genericDisplay</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Calling generic method with String argument</span>
		<span class="token function">genericDisplay</span><span class="token punctuation">(</span><span class="token string">&quot;Jack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Calling generic method with double argument</span>
		<span class="token function">genericDisplay</span><span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>multiple type parameters</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{</span>
  
  <span class="token comment">//public static void print(int key, int value)</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token class-name">Test</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>输出</strong></p> <div class="language- extra-class"><pre class="language-text"><code>java.lang.Integer = 15
java.lang.String = Jack
java.lang.Double = 2.0
</code></pre></div><h2 id="_4-通配符-wildcards"><a href="#_4-通配符-wildcards" class="header-anchor">#</a> 4）通配符 Wildcards ?</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test04</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        strList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        strList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;sss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> integerList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        integerList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        integerList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">each</span><span class="token punctuation">(</span>strList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">each</span><span class="token punctuation">(</span>integerList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 定义方法，可以同时用迭代器遍历这两个集合
     * 方法的参数，是要遍历的集合，不确定是哪个集合,所以使用通配符?
     * 定义参数，写接口类型，不要写实现类
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">each</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Object</span> next <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-泛型中特殊字母的含义"><a href="#_5-泛型中特殊字母的含义" class="header-anchor">#</a> 5）泛型中特殊字母的含义</h2> <ul><li>T – Type</li> <li>E – Element</li> <li>K – Key</li> <li>N – Number</li> <li>V – Value</li></ul> <h2 id="_6-上下界限定符-constraints-extends-和-super"><a href="#_6-上下界限定符-constraints-extends-和-super" class="header-anchor">#</a> 6）上下界限定符 Constraints extends 和 super</h2> <p>案例：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 如下两个方法不会报错</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">funA</span><span class="token punctuation">(</span><span class="token class-name">A</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...          </span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">funB</span><span class="token punctuation">(</span><span class="token class-name">B</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">funA</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...             </span>
<span class="token punctuation">}</span>

<span class="token comment">// 如下funD方法会报错</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">funC</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">A</span><span class="token punctuation">&gt;</span></span> listA<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...          </span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">funD</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">B</span><span class="token punctuation">&gt;</span></span> listB<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">funC</span><span class="token punctuation">(</span>listB<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Unresolved compilation problem: The method funC(List&lt;A&gt;) in the type test is not applicable for the arguments (List&lt;B&gt;)</span>
    <span class="token comment">// ...             </span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>泛型上下限的引入</strong></p> <p>为了解决泛型中隐含的转换问题，Java泛型加入了类型参数的上下边界机制。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">funC</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">A</span><span class="token punctuation">&gt;</span></span> listA<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...          </span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">funD</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">B</span><span class="token punctuation">&gt;</span></span> listB<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">funC</span><span class="token punctuation">(</span>listB<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
    <span class="token comment">// ...             </span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>&lt;? extends A&gt;</code>表示该类型参数可以是A(上边界)或者A的子类类型。</p> <p>编译时擦除到类型A，即用A类型代替类型参数。这种方法可以解决案例遇到的问题，编译器知道类型参数的范围，如果传入的实例类型B是在这个范围内的话允许转换，这时只要一次类型转换就可以了，运行时会把对象当做A的实例看待。</p> <h3 id="上限-extends"><a href="#上限-extends" class="header-anchor">#</a> 上限 extends</h3> <p>extends 关键字声明了类型的上限，表示参数化的类型：1.可以是所指定类型本身；2.或者是其子类型。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>    <span class="token comment">// 此处泛型只能是数字类型</span>
  <span class="token keyword">private</span> <span class="token class-name">T</span> <span class="token keyword">var</span> <span class="token punctuation">;</span>        <span class="token comment">// 定义泛型变量</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> demo1<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>  <span class="token comment">// 声明Integer的泛型对象</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="下限-super"><a href="#下限-super" class="header-anchor">#</a> 下限 super</h3> <p>super 关键字声明了类型的下界，表示参数化的类型可以是：1.指定的类型本身；2.或者是其父类型。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">T</span> <span class="token keyword">var</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericsDemo21</span><span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> i1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// 声明String的泛型对象</span>
    <span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> i2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// 声明Object的泛型对象</span>
    i1<span class="token punctuation">.</span><span class="token function">setVar</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    i2<span class="token punctuation">.</span><span class="token function">setVar</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token function">fun</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token function">fun</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 只能接收String或Object类型的泛型，</span>
  <span class="token comment">// String类的父类只有Object类</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token class-name">Info</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> temp<span class="token punctuation">)</span><span class="token punctuation">{</span>    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>temp <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>使用原则 from《Effictive Java》
为了获得最大限度的灵活性，要在表示 生产者或者消费者 的输入参数上使用通配符，使用的规则就是：生产者有上限、消费者有下限。</p> <ol><li>如果参数化类型表示一个 T 的生产者，使用 &lt; ? extends T&gt;;</li> <li>如果它表示一个 T 的消费者，就使用 &lt; ? super T&gt;；</li> <li>如果既是生产又是消费，那使用通配符就没什么意义了，因为你需要的是精确的参数类型。</li></ol></blockquote> <h3 id="多个限制"><a href="#多个限制" class="header-anchor">#</a> 多个限制</h3> <p>使用&amp;符号</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token comment">//工资低于2500元的上斑族并且站立的乘客车票打8折</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Staff</span> <span class="token operator">&amp;</span> <span class="token class-name">Passenger</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">discount</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">2500</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">isStanding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;恭喜你！您的车票打八折！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">discount</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Me</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-类型擦除-type-erasure"><a href="#_7-类型擦除-type-erasure" class="header-anchor">#</a> 7）类型擦除 Type erasure</h2> <p>Java选择的泛型类型叫做<strong>类型擦除式泛型</strong>。什么是类型擦除式泛型呢？就是Java语言中的泛型只存在于程序源码之中，在编译后的字节码文件里，则全部泛型都会被替换为原来的<strong>原始类型</strong>（Raw Type），并且会在相应的地方插入强制转型的代码；没有限定的使用Object类型。</p> <p>因此，对于运行期间的Java程序来说ArrayList&lt; Integer&gt;和ArrayList&lt; String&gt;其实是同一个类型。这也就是Java选择的泛型类型叫做<strong>类型擦除式泛型</strong>的原因。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stringArrays <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> intArrays <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
  stringArrays<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>intArrays<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>很显然 答案是 true，因为他们的类型都是java.util.ArrayList</p> <h2 id="_8-不要在泛型中使用-java-原始类型"><a href="#_8-不要在泛型中使用-java-原始类型" class="header-anchor">#</a> 8）不要在泛型中使用 Java 原始类型</h2> <p>比如，我们没有<code>ArrayList&lt;int&gt;</code>，只有<code>ArrayList&lt;Integer&gt;</code>, 为何？</p> <p>因为当类型擦除后，ArrayList的原始类型变为Object，但是Object类型不能存储int值，只能引用Integer的值。</p> <p>另外需要注意，我们能够使用<code>list.add(1)</code>是因为Java基础类型的自动装箱拆箱操作。</p> <h2 id="_9-泛型的优缺点"><a href="#_9-泛型的优缺点" class="header-anchor">#</a> 9）泛型的优缺点</h2> <p>Pros：</p> <ol><li>代码复用。</li> <li>类型安全。</li></ol> <p>Cons：</p> <ol><li><p>导致集合中存储的元素缺乏多样性</p> <blockquote><p>不过，大多数业务中，集合中元素的类型一般都是统一的，所以这种泛型特性被大家所认可。</p></blockquote></li> <li><p>在集合中使用泛型，性能没有数组快</p></li></ol> <br> <br> <p><strong>参考链接</strong>：</p> <p>https://www.geeksforgeeks.org/generics-in-java/?ref=gcse</p> <p>https://pdai.tech/md/java/basic/java-basic-x-generic.html</p> <p>https://juejin.cn/post/6993532464622731278</p> <p>https://cloud.tencent.com/developer/article/1582529</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">3/21/2022, 10:30:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/java-serialization/" class="prev">
            八、序列化
          </a></span> <span class="next"><a href="/java-2-senior/10.单元测试.html">
            十、单元测试
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_1-什么是泛型" class="sidebar-link reco-side-_1-什么是泛型" data-v-cb1513f6>1）什么是泛型？</a></li><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_2-为什么要使用泛型" class="sidebar-link reco-side-_2-为什么要使用泛型" data-v-cb1513f6>2）为什么要使用泛型</a></li><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_3-泛型分类" class="sidebar-link reco-side-_3-泛型分类" data-v-cb1513f6>3）泛型分类</a></li><li class="level-3" data-v-cb1513f6><a href="/java-generic/#_1-泛型接口" class="sidebar-link reco-side-_1-泛型接口" data-v-cb1513f6>1. 泛型接口</a></li><li class="level-3" data-v-cb1513f6><a href="/java-generic/#_2-泛型类" class="sidebar-link reco-side-_2-泛型类" data-v-cb1513f6>2. 泛型类</a></li><li class="level-3" data-v-cb1513f6><a href="/java-generic/#_3-泛型方法" class="sidebar-link reco-side-_3-泛型方法" data-v-cb1513f6>3. 泛型方法</a></li><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_4-通配符-wildcards" class="sidebar-link reco-side-_4-通配符-wildcards" data-v-cb1513f6>4）通配符 Wildcards ?</a></li><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_5-泛型中特殊字母的含义" class="sidebar-link reco-side-_5-泛型中特殊字母的含义" data-v-cb1513f6>5）泛型中特殊字母的含义</a></li><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_6-上下界限定符-constraints-extends-和-super" class="sidebar-link reco-side-_6-上下界限定符-constraints-extends-和-super" data-v-cb1513f6>6）上下界限定符 Constraints extends 和 super</a></li><li class="level-3" data-v-cb1513f6><a href="/java-generic/#上限-extends" class="sidebar-link reco-side-上限-extends" data-v-cb1513f6>上限 extends</a></li><li class="level-3" data-v-cb1513f6><a href="/java-generic/#下限-super" class="sidebar-link reco-side-下限-super" data-v-cb1513f6>下限 super</a></li><li class="level-3" data-v-cb1513f6><a href="/java-generic/#多个限制" class="sidebar-link reco-side-多个限制" data-v-cb1513f6>多个限制</a></li><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_7-类型擦除-type-erasure" class="sidebar-link reco-side-_7-类型擦除-type-erasure" data-v-cb1513f6>7）类型擦除 Type erasure</a></li><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_8-不要在泛型中使用-java-原始类型" class="sidebar-link reco-side-_8-不要在泛型中使用-java-原始类型" data-v-cb1513f6>8）不要在泛型中使用 Java 原始类型</a></li><li class="level-2" data-v-cb1513f6><a href="/java-generic/#_9-泛型的优缺点" class="sidebar-link reco-side-_9-泛型的优缺点" data-v-cb1513f6>9）泛型的优缺点</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.a56c6d1d.js" defer></script><script src="/assets/js/3.16bfab84.js" defer></script><script src="/assets/js/1.92468ed9.js" defer></script><script src="/assets/js/50.ff9b873d.js" defer></script>
  </body>
</html>
