(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{630:function(s,a,t){"use strict";t.r(a);var e=t(17),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-下载rpm安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载rpm安装包"}},[s._v("#")]),s._v(" 1. 下载rpm安装包")]),s._v(" "),t("p",[s._v("去"),t("a",{attrs:{href:"https://downloads.mysql.com/archives/community/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1),s._v("下载rpm安装包，共四个。")]),s._v(" "),t("p",[s._v("mysql-community-libs-8.0.18-1.el7.x86_64.rpm")]),s._v(" "),t("h2",{attrs:{id:"_2-将安装包上传到linux的-opt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-将安装包上传到linux的-opt"}},[s._v("#")]),s._v(" 2. 将安装包上传到Linux的/opt")]),s._v(" "),t("p",[s._v("详情请参考[Mac与Linux文件传输]")]),s._v(" "),t("h2",{attrs:{id:"_3-卸载系统预装-mariadb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-卸载系统预装-mariadb"}},[s._v("#")]),s._v(" 3. 卸载系统预装 mariadb")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e --nodeps mariadb-libs-1:5.5.56-2.el7.x86_64\n")])])]),t("h2",{attrs:{id:"_3-按照以下顺序安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-按照以下顺序安装"}},[s._v("#")]),s._v(" 3.按照以下顺序安装")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh /opt/mysql-community-common-8.0.18-1.el7.x86_64.rpm\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh /opt/mysql-community-libs-8.0.18-1.el7.x86_64.rpm\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh /opt/mysql-community-client-8.0.18-1.el7.x86_64.rpm\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh /opt/mysql-community-server-8.0.18-1.el7.x86_64.rpm\n")])])]),t("blockquote",[t("p",[s._v("如果已经打开了opt文件夹，安装时可以省略文件夹，例如")]),s._v(" "),t("p",[s._v("rpm -ivh mysql-community-common-8.0.18-1.el7.x86_64.rpm")])]),s._v(" "),t("h2",{attrs:{id:"_4-查看mysql是否安装成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看mysql是否安装成功"}},[s._v("#")]),s._v(" 4. 查看mysql是否安装成功")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" mysql\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uid=27(mysql) gid=27(mysql) groups=27(mysql)")]),s._v("\n")])])]),t("h2",{attrs:{id:"_5-初始化-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-初始化-mysql"}},[s._v("#")]),s._v(" 5. 初始化 mysql")]),s._v(" "),t("div",{staticClass:"language-BASH extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建数据文件目录和mysql系统数据库 产生随机root密码")]),s._v("\nmysqld --initialize \n")])])]),t("h2",{attrs:{id:"_6-目录权限授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-目录权限授权"}},[s._v("#")]),s._v(" 6. 目录权限授权")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" mysql:mysql /var/lib/mysql -R"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"_7-启动-mysql-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-启动-mysql-服务"}},[s._v("#")]),s._v(" 7. 启动 mysql 服务")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\nsystemctl start mysqld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看mysql服务是否启动")]),s._v("\nsystemctl status mysqld.service\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql      4921      1  4 23:27 ?        00:00:01 /usr/sbin/mysqld")]),s._v("\n")])])]),t("h2",{attrs:{id:"_8-查看初始化随机生成的-root-密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-查看初始化随机生成的-root-密码"}},[s._v("#")]),s._v(" 8. 查看初始化随机生成的 root 密码")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /var/log/mysqld.log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" password\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2022-01-14T15:19:09.444302Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: RI6<px3asiqw")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# RI6<px3asiqw 就是初始密码")]),s._v("\n")])])]),t("h2",{attrs:{id:"_9-登录并修改密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-登录并修改密码"}},[s._v("#")]),s._v(" 9. 登录并修改密码")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql -uroot -p\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 粘贴初始密码")]),s._v("\n\nALTER "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED WITH mysql_native_password BY "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'自己想要设置的密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 例如")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456';")]),s._v("\n")])])]),t("h2",{attrs:{id:"_10-远程访问授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-远程访问授权"}},[s._v("#")]),s._v(" 10. 远程访问授权")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("create user "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" identified with mysql_native_password by "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql登录密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 例如")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# create user 'root'@'%' identified with mysql_native_password by '123456';")]),s._v("\n\ngrant all privileges on *.* to "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" with grant option"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nflush privileges"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"_11-在mac上的软件上登录mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-在mac上的软件上登录mysql"}},[s._v("#")]),s._v(" 11. 在Mac上的软件上登录mysql")]),s._v(" "),t("h2",{attrs:{id:"_12-设置-停止开机自启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12-设置-停止开机自启"}},[s._v("#")]),s._v(" 12. 设置/停止开机自启")]),s._v(" "),t("p",[s._v("需退出mysql设置")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启")]),s._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" mysqld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭")]),s._v("\nsystemctl disable mysqld.service\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);