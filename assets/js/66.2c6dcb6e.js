(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{627:function(s,a,t){"use strict";t.r(a);var e=t(17),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-下载redis安装包并解压"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载redis安装包并解压"}},[s._v("#")]),s._v(" 1. 下载redis安装包并解压")]),s._v(" "),t("p",[s._v("打开Terminal，连接Linux，")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://download.redis.io/releases/redis-6.2.6.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 若没有 wget ，可以输入 yum install wget 安装")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf redis-6.2.6.tar.gz \n")])])]),t("h2",{attrs:{id:"_2-安装c语言编译环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装c语言编译环境"}},[s._v("#")]),s._v(" 2. 安装C语言编译环境")]),s._v(" "),t("p",[s._v("建议先拍快照")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y gcc-c++\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看安装是否成功")]),s._v("\ngcc -v\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 出现版本号就是成功了")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) ")]),s._v("\n")])])]),t("h2",{attrs:{id:"_3-修改安装位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改安装位置"}},[s._v("#")]),s._v(" 3. 修改安装位置")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" redis-6.2.6\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" Makefile\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Top level makefile, the real shit is at src/Makefile")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以得出真正的安装配置文件在 src/Makefile")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" src/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 备份文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" Makefile Makefile.backup\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" Makefile\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 键入 /PREFIX 搜索")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 PREFIX?=/usr/local 修改为 PREFIX?=/usr/local/redis")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 键入 :wq 保存退出")]),s._v("\n")])])]),t("h2",{attrs:{id:"_4-编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-编译安装"}},[s._v("#")]),s._v(" 4. 编译安装")]),s._v(" "),t("p",[s._v("建议先拍快照")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编译")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),t("h2",{attrs:{id:"_5-修改redis配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-修改redis配置文件"}},[s._v("#")]),s._v(" 5. 修改redis配置文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /opt/redis-6.2.6/redis.conf /usr/local/redis/\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /var/logs\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/redis/\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" redis.conf\n")])])]),t("table",[t("thead",[t("tr",[t("th",[s._v("配置项名称")]),s._v(" "),t("th",[s._v("作用")]),s._v(" "),t("th",[s._v("取值")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("daemonize")]),s._v(" "),t("td",[s._v("控制是否以守护进程形式运行Redis服务器")]),s._v(" "),t("td",[s._v("yes")])]),s._v(" "),t("tr",[t("td",[s._v("logfile")]),s._v(" "),t("td",[s._v("指定日志文件位置")]),s._v(" "),t("td",[s._v('"/var/logs/redis.log"')])]),s._v(" "),t("tr",[t("td",[s._v("dir")]),s._v(" "),t("td",[s._v("Redis工作目录")]),s._v(" "),t("td",[s._v("/usr/local/redis")])])])]),s._v(" "),t("h2",{attrs:{id:"_6-启动redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-启动redis"}},[s._v("#")]),s._v(" 6. 启动redis")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# redis-server文件路径 redis.conf文件路径")]),s._v("\n/usr/local/redis/bin/redis-server /usr/local/redis/redis.conf\n")])])]),t("p",[s._v("查看redis是否启动")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看进程")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# root      12889      1  0 10:48 ?        00:00:00 /usr/local/redis/bin/redis-server 127.0.0.1:6379")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看日志")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("less")]),s._v(" /var/logs/redis.log\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Ready to accept connections")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 键入 q 退出")]),s._v("\n")])])]),t("h2",{attrs:{id:"_7-客户端登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-客户端登录"}},[s._v("#")]),s._v(" 7. 客户端登录")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/usr/local/redis/bin/redis-cli\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此时应出现 127.0.0.1:6379> ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果出现 PONG，说明已经成功")]),s._v("\n")])])]),t("h2",{attrs:{id:"_8-退出客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-退出客户端"}},[s._v("#")]),s._v(" 8. 退出客户端")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])])]),t("h2",{attrs:{id:"_9-关闭redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-关闭redis"}},[s._v("#")]),s._v(" 9. 关闭redis")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/usr/local/redis/bin/redis-cli "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\n")])])]),t("h2",{attrs:{id:"_10-无法连接到redis-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-无法连接到redis-cli"}},[s._v("#")]),s._v(" 10. 无法连接到redis-cli")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Could not connect to Redis at "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:6379: Connection refused\n")])])]),t("p",[s._v("登录时需要带上-h和主机地址")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/usr/local/redis/bin/redis-cli -h "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".139.100\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);