(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{578:function(s,t,a){"use strict";a.r(t);var e=a(17),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("Vuepress 1.x  Node.js 12.22.10  Git 2.15.0. MacOS 10.14.5")])]),s._v(" "),a("p",[s._v("关于GitHub仓库的创建等操作可以参考Hexo那篇文章。")]),s._v(" "),a("h2",{attrs:{id:"初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[s._v("#")]),s._v(" 初始化")]),s._v(" "),a("p",[s._v("创建一个文件夹，例如 MyBlog ，然后在终端切到该目录，执行：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" create vuepress-site\n")])])]),a("p",[s._v("跑完进度条后会问你几个问题，都可以不填，直接回车。")]),s._v(" "),a("p",[s._v("然后在 MyBlog 文件夹下，会生成 docs 文件夹")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yarn方法安装，也可以参考官网使用npm安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本地预览")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" dev\n")])])]),a("p",[s._v("此时已经可以预览网页了，http://localhost:8080/ ，出现页面之后 Ctrl + c 断开。")]),s._v(" "),a("h2",{attrs:{id:"安装主题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装主题"}},[s._v("#")]),s._v(" 安装主题")]),s._v(" "),a("p",[s._v("这里以 reco 主题为例，不需要切目录，还是在docs目录下执行：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" vuepress-theme-reco\n")])])]),a("p",[s._v("在 src/.vuepress/config.js 中修改主题为reco")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("theme")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'reco'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  \n")])])]),a("h2",{attrs:{id:"修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[s._v("#")]),s._v(" 修改配置")]),s._v(" "),a("p",[s._v("Vuepress 对前端新手或者小白来说没有 Hexo 那么友好，网上的教程也不接地气。鄙人不才，琢磨了一天才搞明白，还遇到了ssh的大坑。")]),s._v(" "),a("p",[s._v("以上步骤做完之后，目录如下，根目录是 src。（我使用的 IDEA 管理项目，也可以用VSCode）")]),s._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://s2.loli.net/2022/05/18/YZ6TCN8gk2SDaQ4.png",alt:"blog005"}}),s._v(" "),a("p",[s._v("主页的一部分内容可以在 index.md 中修改，其他大部分的网站设置都在 .vuepress/config.js 中修改。")]),s._v(" "),a("p",[s._v("我的 "),a("a",{attrs:{href:"https://raw.githubusercontent.com/wechiwin/VuepressBlog/master/docs/src/index.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("index.md"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("我的 "),a("a",{attrs:{href:"https://github.com/wechiwin/VuepressBlog/blob/master/docs/src/.vuepress/config.js",target:"_blank",rel:"noopener noreferrer"}},[s._v("config.js"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[s._v("#")]),s._v(" 部署")]),s._v(" "),a("p",[s._v("在根目录 src 下创建 deploy.sh")]),s._v(" "),a("blockquote",[a("p",[s._v("如果你创建了其他名字的仓库，则在config.js下 "),a("code",[s._v("base")]),s._v(" 需按如下格式填写，代码中"),a("code",[s._v("XXX")]),s._v(" 为你的 Github 用户名，"),a("code",[s._v("XXXX")]),s._v("为仓库名。")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("base: https://XXX.github.io/XXXX/,\n")])])])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打包生成静态文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入打包好的文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" src/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是发布到自定义域名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 'www.example.com' > CNAME")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建git的本地仓库，提交修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 覆盖式地将本地仓库发布至github，因为发布不需要保留历史记录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 格式为：git push -f git@github.com:'用户名'/'仓库名'.git master")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f git@github.com:wechiwin/wechiwin.github.io.git master\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://XXX.github.io/XXXX")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git push -f git@github.com:XXX/XXXX.git master:gh-pages")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回到docs目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n")])])]),a("p",[s._v("修改 src/package.json")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress build src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"deploy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sh deploy.sh"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),a("h2",{attrs:{id:"遇到的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#遇到的问题"}},[s._v("#")]),s._v(" 遇到的问题")]),s._v(" "),a("p",[s._v("ssh_exchange_identification: Connection closed by remote host; ssh_exchange_identification: read: Connection reset by peer")]),s._v(" "),a("p",[s._v("解决办法：")]),s._v(" "),a("p",[s._v("在 ssh 文件夹下创建 config ，将 GitHub 的host等信息放进去。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.ssh/config\n")])])]),a("p",[s._v("粘贴如下内容：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Host github.com\n Hostname ssh.github.com\n Port 443\n")])])]),a("blockquote",[a("p",[s._v("其他可能有用的方法：")]),s._v(" "),a("p",[s._v("重启路由器，确定自己设置ssh的路由器和现在使用的路由器是同一个，确定自己没有网线和路由器混用。")]),s._v(" "),a("p",[s._v("其他可能会有用的参考链接：")]),s._v(" "),a("p",[s._v("https://www.v2ex.com/t/290545#reply17")]),s._v(" "),a("p",[s._v("https://www.jianshu.com/p/59811ae18799")]),s._v(" "),a("p",[s._v("https://discussions.apple.com/thread/1546914")]),s._v(" "),a("p",[s._v("https://stackoverflow.com/questions/10127818/ssh-exchange-identification-connection-closed-by-remote-host-under-git-bash/60994276#60994276")])]),s._v(" "),a("h2",{attrs:{id:"修改主题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改主题"}},[s._v("#")]),s._v(" 修改主题")]),s._v(" "),a("h3",{attrs:{id:"去掉主页-footer-的-reco-theme"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#去掉主页-footer-的-reco-theme"}},[s._v("#")]),s._v(" 去掉主页 footer 的 reco-theme")]),s._v(" "),a("p",[s._v("找到 docs/node_modules/vuepress-theme-reco/components/Footer.vue")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 注释这几行 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("reco"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("icon icon"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"reco-theme"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("a target"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"blank"')]),s._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://vuepress-theme-reco.recoluan.com"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("vuepress-theme-reco@")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("h3",{attrs:{id:"宽度自适应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#宽度自适应"}},[s._v("#")]),s._v(" 宽度自适应")]),s._v(" "),a("p",[s._v("找到 docs/node_modules/vuepress-theme-reco/components/Page.vue ，将 maxwidth 修改为 100%")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("page"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("title\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//max-width: $contentWidth;")]),s._v("\n    max"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("width"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("docs/node_modules/vuepress-theme-reco/styles/wrapper.styl")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("$wrapper\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//max-width $contentWidth")]),s._v("\n  max"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("width "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("\n")])])]),a("h3",{attrs:{id:"修改正文字体大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改正文字体大小"}},[s._v("#")]),s._v(" 修改正文字体大小")]),s._v(" "),a("p",[s._v("docs/node_modules/vuepress-theme-reco/styles/theme.styl")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("body\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//font-size 15px")]),s._v("\n  font"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("size 18px\n")])])]),a("p",[s._v("参考链接：")]),s._v(" "),a("p",[s._v("https://vuepress.vuejs.org/guide/getting-started.html")]),s._v(" "),a("p",[s._v("https://vuepress-theme-reco.recoluan.com/views/1.x/installUse.html")]),s._v(" "),a("p",[s._v("https://blog.csdn.net/u012967771/article/details/116055518")]),s._v(" "),a("p",[s._v("https://stackoverflow.com/questions/10127818/ssh-exchange-identification-connection-closed-by-remote-host-under-git-bash")])])}),[],!1,null,null,null);t.default=r.exports}}]);